{"version":3,"sources":["index.js"],"names":["window","initialize","seq","payload","a","signer","ChannelSigner","privKey","BrowserNode","connect","chainProviders","authUrl","natsUrl","browserNode","on","EngineEvents","CONDITIONAL_TRANSFER_CREATED","data","console","log","context","eventConditionalTransferCreated","CONDITIONAL_TRANSFER_RESOLVED","eventConditionalTransferResolved","publicIdentifier","dispatch","dispatchErr","setup","result","isError","getError","getValue","conditionalTransfer","resolveTransfer","reconcileDeposit","withdrawDeposit","withdraw","sendDepositTx","getStateChannels","getStateChannel","restoreState","getTransfers","getConfig","config","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c7aed2f.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserNode } from \"@connext/vector-browser-node\";\nimport { ChannelSigner } from \"@connext/vector-utils\";\nimport { EngineEvents } from \"@connext/vector-types\";\n\n// session monster economy alley thumb fun critic view quit wonder sound soldier\n\nwindow.initialize = async function (seq, payload) {\n  const signer = new ChannelSigner(payload.privKey);\n  try {\n    window.browserNode = await BrowserNode.connect({\n      signer,\n      chainProviders: payload.chainProviders,\n      authUrl: payload.authUrl,\n      natsUrl: payload.natsUrl,\n      // chainProviders: {\n      //   4: \"https://rinkeby.infura.io/v3/\",\n      // },\n      // messagingUrl: \"https://messaging.connext.network\",\n    });\n\n    window.browserNode.on(EngineEvents.CONDITIONAL_TRANSFER_CREATED, async (data) => {\n      console.log(\"Received EngineEvents.CONDITIONAL_TRANSFER_CREATED: \", data);\n      //if (data.transfer.responder !== window.browserNode.signerAddress) {\n    //    console.log(\"We are not the responder\");\n    //    return;\n      //}\n\n      window.context.eventConditionalTransferCreated(data);\n    });\n\n    window.browserNode.on(EngineEvents.CONDITIONAL_TRANSFER_RESOLVED, async (data) => {\n      console.log(\"Received EngineEvents.CONDITIONAL_TRANSFER_RESOLVED: \", data);\n      //if (data.transfer.responder !== window.browserNode.signerAddress) {\n        //console.log(\"We are not the responder\");\n        //return;\n      //}\n\n      window.context.eventConditionalTransferResolved(data);\n    });\n\n    console.log(\"NODE CREATED: \", window.browserNode.publicIdentifier);\n    window.context.dispatch(seq, window.browserNode.publicIdentifier);\n  } catch (err) {\n    window.context.dispatchErr(seq, err);\n  }\n}\n\nwindow.setup = async function (seq, payload) {\n  const result = await window.browserNode.setup(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue());\n}\n\nwindow.conditionalTransfer = async function (seq, payload) {\n  const result = await window.browserNode.conditionalTransfer(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue());\n}\nwindow.resolveTransfer = async function (seq, payload) {\n  const result = await window.browserNode.resolveTransfer(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue());\n}\nwindow.reconcileDeposit = async function (seq, payload) {\n  const result = await window.browserNode.reconcileDeposit(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue());\n}\nwindow.withdrawDeposit = async function (seq, payload) {\n  const result = await window.browserNode.withdraw(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue());\n}\nwindow.sendDepositTx = async function (seq, payload) {\n  const result = await window.browserNode.sendDepositTx(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue());\n}\n\nwindow.getStateChannels = async function (seq) {\n  const result = await window.browserNode.getStateChannels();\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue())\n}\n\nwindow.getStateChannel = async function (seq, payload) {\n  const result = await window.browserNode.getStateChannel(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue())\n}\n\nwindow.restoreState = async function (seq, payload) {\n  const result = await window.browserNode.restoreState(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue())\n}\n\nwindow.getTransfers = async function (seq, payload) {\n  const result = await window.browserNode.getTransfers(payload);\n  result.isError ? window.context.dispatchErr(seq, result.getError()) : window.context.dispatch(seq, result.getValue())\n}\n\nwindow.getConfig = async function (seq) {\n  try {\n    const config = await window.browserNode.getConfig();\n    window.context.dispatch(seq, config);\n  }\n  catch (err) {\n    window.context.dispatchErr(seq, err);\n  }\n\n}\n\nReactDOM.render(\n  <React.StrictMode></React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}